<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReelSpeed API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .quick-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .quick-link {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .quick-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            min-height: calc(100vh - 200px);
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .sidebar h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .nav-group {
            margin-bottom: 25px;
        }

        .nav-group h4 {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .nav-item {
            display: block;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 8px;
            margin-bottom: 5px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .endpoint-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .endpoint-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .endpoint {
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            margin-bottom: 25px;
            overflow: hidden;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .endpoint-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #e0e0e0;
        }

        .endpoint-header:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
        }

        .method {
            padding: 6px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 60px;
            text-align: center;
        }

        .method.get { background: #e3f2fd; color: #1976d2; }
        .method.post { background: #e8f5e8; color: #388e3c; }
        .method.put { background: #fff3e0; color: #f57c00; }
        .method.patch { background: #fce4ec; color: #c2185b; }
        .method.delete { background: #ffebee; color: #d32f2f; }

        .endpoint-path {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 1rem;
            font-weight: 500;
            color: #333;
        }

        .endpoint-description {
            color: #666;
            font-size: 0.9rem;
            margin-left: auto;
        }

        .endpoint-details {
            display: none;
            padding: 25px;
            background: #fafafa;
        }

        .endpoint.expanded .endpoint-details {
            display: block;
        }

        .test-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e0e0e0;
        }

        .test-panel h4 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-icon {
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .test-icon::before {
            content: '▶';
            color: white;
            font-size: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
            font-family: inherit;
        }

        .form-group textarea {
            height: 120px;
            font-family: 'Monaco', 'Menlo', monospace;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            transform: none;
            cursor: not-allowed;
        }

        .response-panel {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            background: #f8f9fa;
        }

        .response-panel h5 {
            margin-bottom: 10px;
            color: #333;
        }

        .response-content {
            background: #fff;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8rem;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .status-indicator {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-right: 10px;
        }

        .status-200 { background: #d4edda; color: #155724; }
        .status-201 { background: #d4edda; color: #155724; }
        .status-400 { background: #f8d7da; color: #721c24; }
        .status-401 { background: #f8d7da; color: #721c24; }
        .status-404 { background: #f8d7da; color: #721c24; }
        .status-500 { background: #f8d7da; color: #721c24; }

        .params-section {
            margin-bottom: 20px;
        }

        .params-section h5 {
            margin-bottom: 10px;
            color: #333;
            font-size: 1rem;
        }

        .param-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 8px;
        }

        .param-name {
            font-family: 'Monaco', 'Menlo', monospace;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .param-type {
            color: #666;
            font-size: 0.8rem;
            margin-bottom: 4px;
        }

        .param-required {
            background: #dc3545;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7rem;
            margin-left: 8px;
        }

        .param-description {
            color: #666;
            font-size: 0.9rem;
        }

        .curl-example {
            background: #1e1e1e;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8rem;
            margin: 15px 0;
            overflow-x: auto;
        }

        .copy-btn {
            background: #495057;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            float: right;
            margin-bottom: 10px;
        }

        .copy-btn:hover {
            background: #343a40;
        }

        .search-box {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-box:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .content {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .sidebar {
                position: static;
                order: 2;
            }

            .header h1 {
                font-size: 2rem;
            }

            .quick-links {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎬 ReelSpeed API Documentation</h1>
            <p>Comprehensive API for AI-powered viral video generation platform</p>
            <div class="quick-links">
                <a href="#authentication" class="quick-link">🔐 Authentication</a>
                <a href="#voices" class="quick-link">🎙️ Voice Generation</a>
                <a href="#video" class="quick-link">📹 Video Processing</a>
                <a href="#assets" class="quick-link">📁 Asset Management</a>
                <a href="openapi.yaml" class="quick-link" target="_blank">📄 OpenAPI Spec</a>
            </div>
        </div>

        <div class="content">
            <div class="sidebar">
                <input type="text" class="search-box" placeholder="Search endpoints..." id="searchBox">
                
                <h3>📚 API Reference</h3>
                
                <div class="nav-group">
                    <h4>🔐 Authentication</h4>
                    <a href="#auth-register" class="nav-item">POST Register</a>
                    <a href="#auth-login" class="nav-item">POST Login</a>
                    <a href="#auth-refresh" class="nav-item">POST Refresh Token</a>
                    <a href="#auth-me" class="nav-item">GET User Profile</a>
                    <a href="#auth-profile" class="nav-item">PATCH Update Profile</a>
                </div>

                <div class="nav-group">
                    <h4>🎙️ Voice Generation</h4>
                    <a href="#voices-list" class="nav-item">GET List Voices</a>
                    <a href="#voices-preview" class="nav-item">POST Voice Preview</a>
                    <a href="#voices-generate" class="nav-item">POST Generate Speech</a>
                    <a href="#voices-batch" class="nav-item">POST Batch Generate</a>
                    <a href="#voices-voiceover" class="nav-item">POST Voiceover</a>
                    <a href="#voices-test" class="nav-item">GET Test Connection</a>
                </div>

                <div class="nav-group">
                    <h4>📹 Video Generation</h4>
                    <a href="#video-generate" class="nav-item">POST Generate Video</a>
                    <a href="#video-status" class="nav-item">GET Video Status</a>
                    <a href="#video-renders" class="nav-item">GET List Renders</a>
                    <a href="#video-download" class="nav-item">GET Download Video</a>
                </div>

                <div class="nav-group">
                    <h4>📁 Asset Management</h4>
                    <a href="#assets-videos" class="nav-item">GET Background Videos</a>
                    <a href="#assets-audio" class="nav-item">GET Background Audio</a>
                    <a href="#assets-user" class="nav-item">GET User Assets</a>
                </div>

                <div class="nav-group">
                    <h4>💬 Text Videos</h4>
                    <a href="#text-analyze" class="nav-item">POST Analyze Conversation</a>
                    <a href="#text-generate" class="nav-item">POST Generate Script</a>
                    <a href="#text-templates" class="nav-item">GET Trending Templates</a>
                </div>

                <div class="nav-group">
                    <h4>🏆 Top 5 Videos</h4>
                    <a href="#top5-create" class="nav-item">POST Create Project</a>
                    <a href="#top5-trending" class="nav-item">GET Trending Topics</a>
                    <a href="#top5-analyze" class="nav-item">POST Viral Analysis</a>
                </div>

                <div class="nav-group">
                    <h4>📝 Captions</h4>
                    <a href="#captions-list" class="nav-item">GET List Captions</a>
                    <a href="#captions-upload" class="nav-item">POST Upload Video</a>
                    <a href="#captions-export" class="nav-item">GET Export Caption</a>
                </div>

                <div class="nav-group">
                    <h4>⚡ System</h4>
                    <a href="#system-health" class="nav-item">GET Health Check</a>
                    <a href="#system-info" class="nav-item">GET API Info</a>
                </div>
            </div>

            <div class="main-content">
                <!-- Authentication Section -->
                <div id="authentication" class="endpoint-section active">
                    <h2>🔐 Authentication</h2>
                    <p>Manage user authentication and authorization using JWT tokens.</p>

                    <!-- Register Endpoint -->
                    <div class="endpoint" id="auth-register">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method post">POST</span>
                            <span class="endpoint-path">/api/auth/register</span>
                            <span class="endpoint-description">Register new user account</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Request Body</h5>
                                <div class="param-item">
                                    <div class="param-name">email <span class="param-required">required</span></div>
                                    <div class="param-type">string (email)</div>
                                    <div class="param-description">Valid email address for the account</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">password <span class="param-required">required</span></div>
                                    <div class="param-type">string (min: 8 chars)</div>
                                    <div class="param-description">Strong password with letters, numbers, and symbols</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">firstName <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">User's first name</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">lastName <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">User's last name</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'auth-register')">
                                    <div class="form-group">
                                        <label>Email:</label>
                                        <input type="email" name="email" value="test@example.com" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Password:</label>
                                        <input type="password" name="password" value="SecurePass123!" required>
                                    </div>
                                    <div class="form-group">
                                        <label>First Name:</label>
                                        <input type="text" name="firstName" value="John" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name:</label>
                                        <input type="text" name="lastName" value="Doe" required>
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-auth-register" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "SecurePass123!",
    "firstName": "John",
    "lastName": "Doe"
  }'
                            </div>
                        </div>
                    </div>

                    <!-- Login Endpoint -->
                    <div class="endpoint" id="auth-login">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method post">POST</span>
                            <span class="endpoint-path">/api/auth/login</span>
                            <span class="endpoint-description">Authenticate user and get tokens</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Request Body</h5>
                                <div class="param-item">
                                    <div class="param-name">email <span class="param-required">required</span></div>
                                    <div class="param-type">string (email)</div>
                                    <div class="param-description">Registered email address</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">password <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">User's password</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'auth-login')">
                                    <div class="form-group">
                                        <label>Email:</label>
                                        <input type="email" name="email" value="test@example.com" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Password:</label>
                                        <input type="password" name="password" value="SecurePass123!" required>
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-auth-login" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "SecurePass123!"
  }'
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Voice Generation Section -->
                <div id="voices" class="endpoint-section">
                    <h2>🎙️ Voice Generation</h2>
                    <p>Generate AI voices using ElevenLabs technology for your video content.</p>

                    <!-- List Voices Endpoint -->
                    <div class="endpoint" id="voices-list">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method get">GET</span>
                            <span class="endpoint-path">/api/voices/list</span>
                            <span class="endpoint-description">Get all available voices</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'voices-list')">
                                    <div class="form-group">
                                        <label>Authorization Token (optional):</label>
                                        <input type="text" name="token" placeholder="Bearer token for authenticated requests">
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-voices-list" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X GET http://localhost:3000/api/voices/list \
  -H "Authorization: Bearer YOUR_TOKEN"
                            </div>
                        </div>
                    </div>

                    <!-- Voice Preview Endpoint -->
                    <div class="endpoint" id="voices-preview">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method post">POST</span>
                            <span class="endpoint-path">/api/voices/preview</span>
                            <span class="endpoint-description">Generate voice preview audio</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Request Body</h5>
                                <div class="param-item">
                                    <div class="param-name">voiceId <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">ElevenLabs voice ID to use for preview</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">text</div>
                                    <div class="param-type">string (max: 100 chars)</div>
                                    <div class="param-description">Text to generate speech for (default: preview text)</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'voices-preview')">
                                    <div class="form-group">
                                        <label>Voice ID:</label>
                                        <input type="text" name="voiceId" value="pNInz6obpgDQGcFmaJgB" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Text:</label>
                                        <input type="text" name="text" value="Hello! This is a preview of this voice." maxlength="100">
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-voices-preview" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X POST http://localhost:3000/api/voices/preview \
  -H "Content-Type: application/json" \
  -d '{
    "voiceId": "pNInz6obpgDQGcFmaJgB",
    "text": "Hello! This is a preview of this voice."
  }'
                            </div>
                        </div>
                    </div>

                    <!-- Generate Speech Endpoint -->
                    <div class="endpoint" id="voices-generate">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method post">POST</span>
                            <span class="endpoint-path">/api/voices/generate-message</span>
                            <span class="endpoint-description">Generate speech for a message</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Request Body</h5>
                                <div class="param-item">
                                    <div class="param-name">messageId <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">Unique identifier for the message</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">text <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">Text content to convert to speech</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">voiceId <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">ElevenLabs voice ID to use</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">language</div>
                                    <div class="param-type">string (default: "en")</div>
                                    <div class="param-description">Language code for the speech</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">speed</div>
                                    <div class="param-type">string (default: "normal")</div>
                                    <div class="param-description">Speech speed: slow, normal, fast</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'voices-generate')">
                                    <div class="form-group">
                                        <label>Message ID:</label>
                                        <input type="text" name="messageId" value="msg_123" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Text:</label>
                                        <textarea name="text" required>Hello there! How are you doing today? This is a longer message to test speech generation.</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Voice ID:</label>
                                        <input type="text" name="voiceId" value="pNInz6obpgDQGcFmaJgB" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Language:</label>
                                        <select name="language">
                                            <option value="en">English</option>
                                            <option value="es">Spanish</option>
                                            <option value="fr">French</option>
                                            <option value="de">German</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Speed:</label>
                                        <select name="speed">
                                            <option value="slow">Slow</option>
                                            <option value="normal" selected>Normal</option>
                                            <option value="fast">Fast</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-voices-generate" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X POST http://localhost:3000/api/voices/generate-message \
  -H "Content-Type: application/json" \
  -d '{
    "messageId": "msg_123",
    "text": "Hello there! How are you doing today?",
    "voiceId": "pNInz6obpgDQGcFmaJgB",
    "language": "en",
    "speed": "normal"
  }'
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Video Generation Section -->
                <div id="video" class="endpoint-section">
                    <h2>📹 Video Generation</h2>
                    <p>Create and manage video content with AI-powered generation capabilities.</p>

                    <!-- Generate Video Endpoint -->
                    <div class="endpoint" id="video-generate">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method post">POST</span>
                            <span class="endpoint-path">/api/video/generate</span>
                            <span class="endpoint-description">Start video generation process</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Request Body</h5>
                                <div class="param-item">
                                    <div class="param-name">type <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">Video type: story, reddit, quiz, educational, viral-text</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">input <span class="param-required">required</span></div>
                                    <div class="param-type">object</div>
                                    <div class="param-description">Input data including text, script, title, and config</div>
                                </div>
                                <div class="param-item">
                                    <div class="param-name">settings <span class="param-required">required</span></div>
                                    <div class="param-type">object</div>
                                    <div class="param-description">Video settings like duration, dimensions, fps, etc.</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'video-generate')">
                                    <div class="form-group">
                                        <label>Video Type:</label>
                                        <select name="type" required>
                                            <option value="story">Story</option>
                                            <option value="reddit">Reddit</option>
                                            <option value="quiz">Quiz</option>
                                            <option value="educational">Educational</option>
                                            <option value="viral-text">Viral Text</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Input Data (JSON):</label>
                                        <textarea name="input" required>{
  "text": "This is an amazing story about AI",
  "script": "Welcome to our video about artificial intelligence...",
  "title": "AI Revolution",
  "config": {
    "messages": [],
    "people": [],
    "settings": {}
  }
}</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>Settings (JSON):</label>
                                        <textarea name="settings" required>{
  "duration": 30,
  "width": 1080,
  "height": 1920,
  "fps": 30,
  "voice": "default",
  "background": "#000000",
  "language": "en"
}</textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>User ID:</label>
                                        <input type="text" name="userId" value="test_user_123">
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-video-generate" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X POST http://localhost:3000/api/video/generate \
  -H "Content-Type: application/json" \
  -d '{
    "type": "story",
    "input": {
      "text": "This is an amazing story about AI",
      "script": "Welcome to our video about artificial intelligence...",
      "title": "AI Revolution"
    },
    "settings": {
      "duration": 30,
      "width": 1080,
      "height": 1920,
      "fps": 30
    },
    "userId": "test_user_123"
  }'
                            </div>
                        </div>
                    </div>

                    <!-- Video Status Endpoint -->
                    <div class="endpoint" id="video-status">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method get">GET</span>
                            <span class="endpoint-path">/api/video/status/{videoId}</span>
                            <span class="endpoint-description">Check video generation status</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="params-section">
                                <h5>Path Parameters</h5>
                                <div class="param-item">
                                    <div class="param-name">videoId <span class="param-required">required</span></div>
                                    <div class="param-type">string</div>
                                    <div class="param-description">Unique video identifier from generation request</div>
                                </div>
                            </div>

                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'video-status')">
                                    <div class="form-group">
                                        <label>Video ID:</label>
                                        <input type="text" name="videoId" value="video_1234567890_abc123" required>
                                    </div>
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-video-status" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X GET http://localhost:3000/api/video/status/video_1234567890_abc123
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Health Section -->
                <div id="health" class="endpoint-section">
                    <h2>⚡ System Health</h2>
                    <p>Monitor API health and get system information.</p>

                    <!-- Health Check Endpoint -->
                    <div class="endpoint" id="system-health">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method get">GET</span>
                            <span class="endpoint-path">/health</span>
                            <span class="endpoint-description">Check API health status</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'system-health')">
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-system-health" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X GET http://localhost:3000/health
                            </div>
                        </div>
                    </div>

                    <!-- API Info Endpoint -->
                    <div class="endpoint" id="system-info">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method get">GET</span>
                            <span class="endpoint-path">/</span>
                            <span class="endpoint-description">Get API information and available services</span>
                        </div>
                        <div class="endpoint-details">
                            <div class="test-panel">
                                <h4><span class="test-icon"></span>Test This Endpoint</h4>
                                <form onsubmit="testEndpoint(event, 'system-info')">
                                    <button type="submit" class="btn">Send Request</button>
                                </form>
                                <div id="response-system-info" class="response-panel" style="display:none;"></div>
                            </div>

                            <div class="curl-example">
                                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
curl -X GET http://localhost:3000/
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        const API_BASE_URL = 'http://localhost:3000';
        let authToken = localStorage.getItem('reelspeed_token') || '';

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeNavigation();
            initializeSearch();
            
            // Show authentication section by default
            showSection('authentication');
        });

        // Navigation handling
        function initializeNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const href = this.getAttribute('href');
                    
                    if (href.startsWith('#')) {
                        const id = href.substring(1);
                        
                        // If it's a section ID, show that section
                        if (['authentication', 'voices', 'video', 'assets', 'health'].includes(id)) {
                            showSection(id);
                        } else {
                            // Otherwise, it's an endpoint ID
                            const sectionMap = {
                                'auth-': 'authentication',
                                'voices-': 'voices',
                                'video-': 'video',
                                'assets-': 'assets',
                                'text-': 'text',
                                'top5-': 'top5',
                                'captions-': 'captions',
                                'system-': 'health'
                            };
                            
                            const sectionKey = Object.keys(sectionMap).find(key => id.startsWith(key));
                            if (sectionKey) {
                                showSection(sectionMap[sectionKey]);
                                // Scroll to specific endpoint
                                setTimeout(() => {
                                    const element = document.getElementById(id);
                                    if (element) {
                                        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                        // Expand the endpoint
                                        if (!element.classList.contains('expanded')) {
                                            const header = element.querySelector('.endpoint-header');
                                            if (header) {
                                                toggleEndpoint(header);
                                            }
                                        }
                                    }
                                }, 100);
                            }
                        }
                    }
                    
                    // Update active nav item
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // Search functionality
        function initializeSearch() {
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                document.querySelectorAll('.nav-item').forEach(item => {
                    const text = item.textContent.toLowerCase();
                    if (text.includes(query)) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        }

        // Show specific section
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.endpoint-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
        }

        // Toggle endpoint details
        function toggleEndpoint(header) {
            const endpoint = header.closest('.endpoint');
            endpoint.classList.toggle('expanded');
        }

        // Test endpoint functionality
        async function testEndpoint(event, endpointId) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const responseDiv = document.getElementById(`response-${endpointId}`);
            const button = form.querySelector('button[type="submit"]');
            
            // Show loading state
            button.disabled = true;
            button.textContent = 'Sending...';
            responseDiv.style.display = 'block';
            responseDiv.innerHTML = '<h5>Response</h5><div class="response-content">Sending request...</div>';
            
            try {
                let url, method, headers, body;
                
                // Configure request based on endpoint
                switch (endpointId) {
                    case 'auth-register':
                        url = `${API_BASE_URL}/api/auth/register`;
                        method = 'POST';
                        headers = { 'Content-Type': 'application/json' };
                        body = JSON.stringify({
                            email: formData.get('email'),
                            password: formData.get('password'),
                            firstName: formData.get('firstName'),
                            lastName: formData.get('lastName')
                        });
                        break;
                        
                    case 'auth-login':
                        url = `${API_BASE_URL}/api/auth/login`;
                        method = 'POST';
                        headers = { 'Content-Type': 'application/json' };
                        body = JSON.stringify({
                            email: formData.get('email'),
                            password: formData.get('password')
                        });
                        break;
                        
                    case 'voices-list':
                        url = `${API_BASE_URL}/api/voices/list`;
                        method = 'GET';
                        headers = {};
                        if (formData.get('token')) {
                            headers['Authorization'] = `Bearer ${formData.get('token')}`;
                        }
                        break;
                        
                    case 'voices-preview':
                        url = `${API_BASE_URL}/api/voices/preview`;
                        method = 'POST';
                        headers = { 'Content-Type': 'application/json' };
                        body = JSON.stringify({
                            voiceId: formData.get('voiceId'),
                            text: formData.get('text') || undefined
                        });
                        break;
                        
                    case 'voices-generate':
                        url = `${API_BASE_URL}/api/voices/generate-message`;
                        method = 'POST';
                        headers = { 'Content-Type': 'application/json' };
                        body = JSON.stringify({
                            messageId: formData.get('messageId'),
                            text: formData.get('text'),
                            voiceId: formData.get('voiceId'),
                            language: formData.get('language'),
                            speed: formData.get('speed')
                        });
                        break;
                        
                    case 'video-generate':
                        url = `${API_BASE_URL}/api/video/generate`;
                        method = 'POST';
                        headers = { 'Content-Type': 'application/json' };
                        body = JSON.stringify({
                            type: formData.get('type'),
                            input: JSON.parse(formData.get('input')),
                            settings: JSON.parse(formData.get('settings')),
                            userId: formData.get('userId')
                        });
                        break;
                        
                    case 'video-status':
                        url = `${API_BASE_URL}/api/video/status/${formData.get('videoId')}`;
                        method = 'GET';
                        headers = {};
                        break;
                        
                    case 'system-health':
                        url = `${API_BASE_URL}/health`;
                        method = 'GET';
                        headers = {};
                        break;
                        
                    case 'system-info':
                        url = `${API_BASE_URL}/`;
                        method = 'GET';
                        headers = {};
                        break;
                        
                    default:
                        throw new Error('Unknown endpoint');
                }
                
                // Make request
                const response = await fetch(url, {
                    method,
                    headers,
                    body
                });
                
                const responseText = await response.text();
                let responseData;
                
                try {
                    responseData = JSON.parse(responseText);
                } catch {
                    responseData = responseText;
                }
                
                // Show response
                const statusClass = `status-${response.status}`;
                const statusText = response.status >= 200 && response.status < 300 ? 'Success' : 'Error';
                
                responseDiv.innerHTML = `
                    <h5>Response <span class="status-indicator ${statusClass}">${response.status} ${statusText}</span></h5>
                    <div class="response-content">${JSON.stringify(responseData, null, 2)}</div>
                `;
                
                // Store token if this was a successful auth request
                if ((endpointId === 'auth-login' || endpointId === 'auth-register') && 
                    response.ok && responseData.tokens) {
                    authToken = responseData.tokens.accessToken;
                    localStorage.setItem('reelspeed_token', authToken);
                }
                
            } catch (error) {
                responseDiv.innerHTML = `
                    <h5>Response <span class="status-indicator status-500">Error</span></h5>
                    <div class="response-content">Error: ${error.message}</div>
                `;
            } finally {
                // Reset button
                button.disabled = false;
                button.textContent = 'Send Request';
            }
        }

        // Copy to clipboard functionality
        function copyToClipboard(button) {
            const codeBlock = button.nextElementSibling;
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }
    </script>
</body>
</html>